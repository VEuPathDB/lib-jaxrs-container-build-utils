#!/usr/bin/env sh

. .tools/bin/lib/colors.sh

set -eu

echo "${C_BLUE}Merging Raml Schema${C_NONE}"

echo "#%RAML 1.0 Library

################################################################################
#                                                                              #
#  DO NOT EDIT THIS FILE; IT WAS GENERATED AUTOMATICALLY.                      #
#  CHANGES MADE HERE WILL BE LOST.                                             #
#                                                                              #
################################################################################

types:" > schema/library.raml

find docs/schema -name '*.raml' | xargs -I '{}' sed 's/#.\+\|^types.\+//' {} | grep -vE "^ *$" >> schema/library.raml

